var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequired7c6=r),r("1TPJ0");var o=r("1TPJ0"),n=r("1sEOH"),s=r("3JWO1");function l(e){0!==e.length?n.gallery.innerHTML=function(e){return e.map((({poster_path:e,title:t,genre_ids:a,release_date:r,id:o})=>{const n=function(e){return""===e?"no info":null==e?void 0:e.slice(0,4)}(r),l=t.toUpperCase(),i=function(e){return null===e?"https://via.placeholder.com/440x660.jpg?text=Image+Not+Found":`https://image.tmdb.org/t/p/w500${e}`}(e);return`<li class="gallery__item" id=${o}>\n        <img\n          class="gallery__img"\n          src="${i}"\n          alt=${t}\n        />\n        <p class="gallery__name">${l}</p>\n        <p class="gallery__information">${(0,s.getGenre)(a)} | ${n}</p>\n    </li>`})).join("")}(e):n.gallery.innerHTML="<img src=https://cdn.dribbble.com/users/6487750/screenshots/16827244/media/f79f5e40dd7189d69388ec0b069e4b73.png />"}n=r("1sEOH");function i(e,t){n.paginationHome.innerHTML=function(e,t){let a,r="",o=t-1,n=t+1;t>1&&(r+=`<li class="btn prev" data-totalPages="${e}" data-page="${t-1}"\n    ><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16" data-totalPages="${e}" data-page="${t-1}">\n    <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>\n  </svg></li>`);t>2&&(r+=`<li class="first numb" data-totalpages="${e}" data-page="1")">1</li>`,t>3&&(r+='<li class="dots">...</li>'));1==t?n+=2:2==t&&(n+=1);for(var s=o;s<=n;s++)s>e||(0==s&&(s+=1),a=t==s?"active":"",r+=`<li class="numb ${a}" data-totalpages="${e}" data-page="${s}">${s}</li>`);t<e-1&&(t<e-2&&(r+='<li class="dots">...</li>'),r+=`<li class="last numb" data-totalpages="${e}" data-page="${e}">${e}</li>`);t<e&&(r+=`<li class="btn next" data-totalpages="${e}" data-page="${t+1}">\n    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16" data-totalpages="${e}" data-page="${t+1}">\n    <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>\n  </svg></li>`);return r}(e,t)}var d=r("gjiCh");const c=new(0,o.GetMovieApi);window.addEventListener("DOMContentLoaded",(async function(e){(0,d.loaderShow)();try{const e=await c.fetchPopularMovie();(0,d.hideLoader)(),l(e.results),i(e.total_pages,e.page)}catch(e){console.error(e.message)}}));n=r("1sEOH"),n=r("1sEOH"),o=r("1TPJ0"),d=r("gjiCh");const u=new(0,o.GetMovieApi);let g="";n.form.addEventListener("submit",(function(e){if(e.preventDefault(),g=e.target.elements.text.value.trim(),""===g)return void n.noSuccess.classList.add("visible");n.noSuccess.classList.remove("visible");(async function(e){(0,d.loaderShow)();try{u.resetPage();const t=await u.fetchSearchedMovie(e);0===t.results.length&&n.noSuccess.classList.add("visible"),(0,d.hideLoader)(),l(t.results),n.paginationHome.innerHTML="",t.total_pages>0&&i(t.total_pages,t.page)}catch(e){console.error(e)}})(g),n.form.reset()}));n=r("1sEOH");const p=new(0,(o=r("1TPJ0")).GetMovieApi);let m=null;n.paginationHome.addEventListener("click",(function(e){m=e.target.dataset.page,o.isFetchPopularMovie&&async function(){try{p.setPage(m);const e=await p.fetchPopularMovie();l(e.results),i(e.total_pages,e.page)}catch(e){console.error(e)}}(),o.isFetchSearchedMovie&&async function(){try{p.setPage(m);const e=await p.fetchSearchedMovie(g);l(e.results),i(e.total_pages,e.page)}catch(e){console.error(e)}}()}));var f=r("31L8x");const h=new(0,(o=r("1TPJ0")).GetMovieApi),v={backdrop:document.querySelector(".backdrop"),modalOpenClose:document.querySelector(".js-modalOpenClose"),closeBtn:document.querySelector("[data-modal-close]"),modalCard:document.querySelector(".movie-modal")};let w=null,b=[],S=[];function E(){v.backdrop.classList.toggle("is-hidden"),window.removeEventListener("keydown",O),v.modalCard.innerHTML=""}function L(e){e.currentTarget===e.target&&E()}function O(e){"Escape"===e.code&&E()}function C(e){if(!e.target.classList.contains("watched"))return JSON.parse(localStorage.getItem("watchedCard"))&&(b=JSON.parse(localStorage.getItem("watchedCard"))),b.push(w),localStorage.setItem("watchedCard",JSON.stringify(b)),e.target.classList.add("watched"),void(e.target.textContent="REMOVE FROM WATCHED");{b=JSON.parse(localStorage.getItem("watchedCard"));const t=b.filter((e=>Number(e.id)!==Number(w.id)));b=[...t],localStorage.setItem("watchedCard",JSON.stringify(b)),e.target.classList.remove("watched"),e.target.textContent="ADD TO WATCHED"}}function y(e){if(!e.target.classList.contains("queued"))return JSON.parse(localStorage.getItem("queuedCard"))&&(S=JSON.parse(localStorage.getItem("queuedCard"))),S.push(w),localStorage.setItem("queuedCard",JSON.stringify(S)),e.target.classList.add("queued"),void(e.target.textContent="REMOVE FROM QUEUED");{S=JSON.parse(localStorage.getItem("queuedCard"));const t=S.filter((e=>Number(e.id)!==Number(w.id)));S=[...t],localStorage.setItem("queuedCard",JSON.stringify(S)),e.target.classList.remove("queued"),e.target.textContent="ADD TO QUEUED"}}v.modalOpenClose.addEventListener("click",(async function(e){var t,a;if(e.target===e.currentTarget)return;const r=e.target.parentNode.getAttribute("id");try{w=await h.fetchMoviebyId(r),(0,f.renderMovieCard)(w)}catch(e){console.error(e)}const o={addQueue:document.querySelector(".modal-button-queue"),addWatched:document.querySelector(".modal-button-watched")};o.addQueue.addEventListener("click",y),o.addWatched.addEventListener("click",C),v.backdrop.classList.toggle("is-hidden"),v.closeBtn.addEventListener("click",E),v.backdrop.addEventListener("click",L),window.addEventListener("keydown",O),(null===(t=JSON.parse(localStorage.getItem("watchedCard")))||void 0===t?void 0:t.find((e=>e.id===Number(r))))&&(o.addWatched.textContent="REMOVE FROM WATCHED",o.addWatched.classList.add("watched"));(null===(a=JSON.parse(localStorage.getItem("queuedCard")))||void 0===a?void 0:a.find((e=>e.id===Number(r))))&&(o.addQueue.textContent="REMOVE FROM QUEUED",o.addQueue.classList.add("queued"))})),r("8Yq9A");
//# sourceMappingURL=index.6ed91c43.js.map
