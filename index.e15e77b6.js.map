{"mappings":"wsBAAA,IAAAA,EAAAC,EAAA,S,2FAOMC,EAAc,IAAI,EAAAC,EAAAC,aACbC,EAAa,G,SAoBTC,I,OAAAA,EAAfC,EAAAP,EAAA,CAAAO,EAAAC,GAAAC,MAAA,SAAAC,EAAqCC,G,IAG3BC,E,kFADNV,EAAYW,Y,SACOX,EAAYY,mBAAmBH,G,OACtB,KADtBC,EAAIG,EAAAC,MACDC,QAAQC,QACfC,EAAAC,UAAUC,UAAUC,IAAI,YAG1B,EAAAC,EAAAC,iBAAgBZ,EAAKK,UACrB,EAAAQ,EAAAC,wBAAuBd,EAAKe,YAAaf,EAAKgB,M,kDAE9CC,QAAQC,MAAKf,EAAAgB,I,2DAXmBC,MAAAC,KAAAC,WAlBpCf,EAAAgB,KAAKC,iBAAiB,UAGf,SAAuBC,GAI5B,GAHAA,EAAEC,iBAGiB,MAFnBjC,EAAagC,EAAEE,OAAOC,SAASC,KAAKC,MAAMC,QAIxC,YADAxB,EAAAC,UAAUC,UAAUC,IAAI,WAGxBH,EAAAC,UAAUC,UAAUuB,OAAO,Y,SAOMjC,GAAtBL,EAAqB0B,MAAAC,KAAAC,YAJlCW,CAAsBxC,GAoBtBc,EAAAgB,KAAKW,c","sources":["src/js/onSubmitClick.js"],"sourcesContent":["import { form } from './references';\nimport { noSuccess } from './references';\nimport { paginationHome } from './references';\nimport { renderMovieCard } from './createGallery'\nimport { GetMovieApi } from './fetchMovies';\nimport { renderNumerationOfHome } from './createNumeration';\n\nconst getMovieApi = new GetMovieApi();\nexport let inputValue = '';\n\nform.addEventListener('submit', onSubmitClick);\n\n//Получение данных с инпута\nexport function onSubmitClick(e) {\n  e.preventDefault();\n  inputValue = e.target.elements.text.value.trim();\n  // Проверка инпута на пустую строку\n  if (inputValue === '') {\n    noSuccess.classList.add('visible');\n    return;\n  } else {\n    noSuccess.classList.remove('visible');\n  }\n  // Search movies\n  searchMoviesAndRender(inputValue);\n  clearInput();\n}\n\nasync function searchMoviesAndRender(inputValue) {\n  try {\n    getMovieApi.resetPage();\n    const data = await getMovieApi.fetchSearchedMovie(inputValue);\n    if (data.results.length === 0) {\n      noSuccess.classList.add('visible');\n    }\n    // Render gallery\n    renderMovieCard(data.results);\n    renderNumerationOfHome(data.total_pages, data.page);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction clearInput() {\n  form.reset();\n}\n"],"names":["$bpxeT","parcelRequire","$7eb3588a3c9e8e32$var$getMovieApi","$kitKc","GetMovieApi","$7eb3588a3c9e8e32$export$1de20867395b8910","$7eb3588a3c9e8e32$var$_searchMoviesAndRender","$parcel$interopDefault","$2TvXO","mark","_callee","inputValue1","data","resetPage","fetchSearchedMovie","_ctx","sent","results","length","$go8W7","noSuccess","classList","add","$j2NRO","renderMovieCard","$jlmRS","renderNumerationOfHome","total_pages","page","console","error","t0","apply","this","arguments","form","addEventListener","e","preventDefault","target","elements","text","value","trim","remove","$7eb3588a3c9e8e32$var$searchMoviesAndRender","reset"],"version":3,"file":"index.e15e77b6.js.map"}