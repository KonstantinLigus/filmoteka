!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=r),r("kitKc");var o=r("bpxeT"),c=r("2TvXO"),s=r("kitKc"),i=r("go8W7"),l=r("2Ch4P");function d(e){0!==e.length?i.gallery.innerHTML=function(e){return e.map((function(e){var t=e.poster_path,a=e.title,n=e.genre_ids,r=e.release_date,o=e.id,c=function(e){return""===e?"no info":null==e?void 0:e.slice(0,4)}(r),s=a.toUpperCase(),i=function(e){return null===e?"https://via.placeholder.com/440x660.jpg?text=Image+Not+Found":"https://image.tmdb.org/t/p/w500".concat(e)}(t),d=(0,l.getGenre)(n);return'<li class="gallery__item" id='.concat(o,'>\n        <img\n          class="gallery__img"\n          src="').concat(i,'"\n          alt=').concat(a,'\n        />\n        <p class="gallery__name">').concat(s,'</p>\n        <p class="gallery__information">').concat(d," | ").concat(c,"</p>\n    </li>")})).join("")}(e):i.gallery.innerHTML="<img src=https://cdn.dribbble.com/users/6487750/screenshots/16827244/media/f79f5e40dd7189d69388ec0b069e4b73.png />"}i=r("go8W7");function u(e,t){i.paginationHome.innerHTML=function(e,t){var a="",n=t-1,r=t+1;t>1&&(a+='<li class="btn prev" data-totalPages="'.concat(e,'" data-page="').concat(t-1,'"\n    ><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16" data-totalPages="').concat(e,'" data-page="').concat(t-1,'">\n    <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>\n  </svg></li>'));t>2&&(a+='<li class="first numb" data-totalpages="'.concat(e,'" data-page="1")">1</li>'),t>3&&(a+='<li class="dots">...</li>'));1==t?r+=2:2==t&&(r+=1);for(var o=n;o<=r;o++)o>e||(0==o&&(o+=1),a+='<li class="numb '.concat(t==o?"active":"",'" data-totalpages="').concat(e,'" data-page="').concat(o,'">').concat(o,"</li>"));t<e-1&&(t<e-2&&(a+='<li class="dots">...</li>'),a+='<li class="last numb" data-totalpages="'.concat(e,'" data-page="').concat(e,'">').concat(e,"</li>"));t<e&&(a+='<li class="btn next" data-totalpages="'.concat(e,'" data-page="').concat(t+1,'">\n    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16" data-totalpages="').concat(e,'" data-page="').concat(t+1,'">\n    <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>\n  </svg></li>'));return a}(e,t)}var p=r("kvC6y"),g=new(0,s.GetMovieApi);function v(){return(v=e(o)(e(c).mark((function t(a){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,p.loaderShow)(),e.prev=1,e.next=4,g.fetchPopularMovie();case 4:n=e.sent,(0,p.hideLoader)(),d(n.results),u(n.total_pages,n.page),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0.message);case 13:case"end":return e.stop()}}),t,null,[[1,10]])})))).apply(this,arguments)}window.addEventListener("DOMContentLoaded",(function(e){return v.apply(this,arguments)}));o=r("bpxeT"),c=r("2TvXO"),i=r("go8W7"),i=r("go8W7"),s=r("kitKc"),p=r("kvC6y");var f=new(0,s.GetMovieApi),h="";function m(){return(m=e(o)(e(c).mark((function t(a){var n;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,p.loaderShow)(),e.prev=1,f.resetPage(),e.next=5,f.fetchSearchedMovie(a);case 5:0===(n=e.sent).results.length&&i.noSuccess.classList.add("visible"),(0,p.hideLoader)(),d(n.results),i.paginationHome.innerHTML="",n.total_pages>0&&u(n.total_pages,n.page),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}}),t,null,[[1,13]])})))).apply(this,arguments)}i.form.addEventListener("submit",(function(e){if(e.preventDefault(),""===(h=e.target.elements.text.value.trim()))return void i.noSuccess.classList.add("visible");i.noSuccess.classList.remove("visible");(function(e){m.apply(this,arguments)})(h),i.form.reset()}));o=r("bpxeT"),c=r("2TvXO"),i=r("go8W7");var w=new(0,(s=r("kitKc")).GetMovieApi),b=null;function x(){return(x=e(o)(e(c).mark((function t(){var a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w.setPage(b),e.next=4,w.fetchSearchedMovie(h);case 4:d((a=e.sent).results),u(a.total_pages,a.page),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function S(){return(S=e(o)(e(c).mark((function t(){var a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w.setPage(b),e.next=4,w.fetchPopularMovie();case 4:d((a=e.sent).results),u(a.total_pages,a.page),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}i.paginationHome.addEventListener("click",(function(e){b=e.target.dataset.page,s.isFetchPopularMovie&&function(){S.apply(this,arguments)}(),s.isFetchSearchedMovie&&function(){x.apply(this,arguments)}()}));o=r("bpxeT");var y=r("8nrFW"),C=(c=r("2TvXO"),r("cidzk")),L=new(0,(s=r("kitKc")).GetMovieApi),O={backdrop:document.querySelector(".backdrop"),modalOpenClose:document.querySelector(".js-modalOpenClose"),closeBtn:document.querySelector("[data-modal-close]"),modalCard:document.querySelector(".movie-modal")},k=null,E=[],M=[];function T(){return(T=e(o)(e(c).mark((function t(a){var n,r,o,s;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.target!==a.currentTarget){e.next=3;break}return e.abrupt("return");case 3:return o=a.target.parentNode.getAttribute("id"),e.prev=4,e.next=7,L.fetchMoviebyId(o);case 7:k=e.sent,(0,C.renderMovieCard)(k),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0);case 14:(s={addQueue:document.querySelector(".modal-button-queue"),addWatched:document.querySelector(".modal-button-watched")}).addQueue.addEventListener("click",H),s.addWatched.addEventListener("click",D),O.backdrop.classList.toggle("is-hidden"),O.closeBtn.addEventListener("click",N),O.backdrop.addEventListener("click",_),window.addEventListener("keydown",q),(null===(n=JSON.parse(localStorage.getItem("watchedCard")))||void 0===n?void 0:n.find((function(e){return e.id===Number(o)})))&&(s.addWatched.textContent="REMOVE FROM WATCHED",s.addWatched.classList.add("watched")),(null===(r=JSON.parse(localStorage.getItem("queuedCard")))||void 0===r?void 0:r.find((function(e){return e.id===Number(o)})))&&(s.addQueue.textContent="REMOVE FROM QUEUED",s.addQueue.classList.add("queued"));case 23:case"end":return e.stop()}}),t,null,[[4,11]])})))).apply(this,arguments)}function N(){O.backdrop.classList.toggle("is-hidden"),window.removeEventListener("keydown",q),O.modalCard.innerHTML=""}function _(e){e.currentTarget===e.target&&N()}function q(e){"Escape"===e.code&&N()}function D(t){if(!t.target.classList.contains("watched"))return JSON.parse(localStorage.getItem("watchedCard"))&&(E=JSON.parse(localStorage.getItem("watchedCard"))),E.push(k),localStorage.setItem("watchedCard",JSON.stringify(E)),t.target.classList.add("watched"),void(t.target.textContent="REMOVE FROM WATCHED");var a=(E=JSON.parse(localStorage.getItem("watchedCard"))).filter((function(e){return Number(e.id)!==Number(k.id)}));E=e(y)(a),localStorage.setItem("watchedCard",JSON.stringify(E)),t.target.classList.remove("watched"),t.target.textContent="ADD TO WATCHED"}function H(t){if(!t.target.classList.contains("queued"))return JSON.parse(localStorage.getItem("queuedCard"))&&(M=JSON.parse(localStorage.getItem("queuedCard"))),M.push(k),localStorage.setItem("queuedCard",JSON.stringify(M)),t.target.classList.add("queued"),void(t.target.textContent="REMOVE FROM QUEUED");var a=(M=JSON.parse(localStorage.getItem("queuedCard"))).filter((function(e){return Number(e.id)!==Number(k.id)}));M=e(y)(a),localStorage.setItem("queuedCard",JSON.stringify(M)),t.target.classList.remove("queued"),t.target.textContent="ADD TO QUEUED"}O.modalOpenClose.addEventListener("click",(function(e){return T.apply(this,arguments)})),r("7F1pg")}();
//# sourceMappingURL=index.e4a7d554.js.map
