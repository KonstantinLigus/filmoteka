var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n),n.register("3JWO1",(function(e,t){var a,n,o,r;a=e.exports,n="getGenre",o=function(){return i},Object.defineProperty(a,n,{get:o,set:r,enumerable:!0,configurable:!0});const d=JSON.parse(localStorage.getItem("genres"));function i(e){if(0===e.length)return"no info";const t=function(e,t){return e.filter((e=>t.includes(e.id))).map((e=>e.name))}(d,e);if(t.length>3){const e=function(e){return filteredGenres=e.filter(((e,t)=>{if(t<2)return!0}))}(t);return e.push("Other"),e.join(", ")}return t.join(", ")}}));var o=n("3JWO1");const r={backdrop:document.querySelector(".backdrop"),modalOpenClose:document.querySelector(".js-modalOpenClose"),closeBtn:document.querySelector("[data-modal-close]"),modalCard:document.querySelector(".movie-modal")};let d=null,i=[],c=[];function s(){r.backdrop.classList.toggle("is-hidden"),window.removeEventListener("keydown",u),r.modalCard.innerHTML=""}function l(e){e.currentTarget===e.target&&s()}function u(e){"Escape"===e.code&&s()}function m(e){if(!e.target.classList.contains("watched"))return JSON.parse(localStorage.getItem("watchedCard"))&&(i=JSON.parse(localStorage.getItem("watchedCard"))),i.push(d),localStorage.setItem("watchedCard",JSON.stringify(i)),e.target.classList.add("watched"),void(e.target.textContent="REMOVE FROM WATCHED");{i=JSON.parse(localStorage.getItem("watchedCard"));const t=i.filter((e=>Number(e.id)!==Number(d.id)));i=[...t],localStorage.setItem("watchedCard",JSON.stringify(i)),e.target.classList.remove("watched"),e.target.textContent="ADD TO WATCHED"}}function g(e){if(!e.target.classList.contains("queued"))return JSON.parse(localStorage.getItem("queuedCard"))&&(c=JSON.parse(localStorage.getItem("queuedCard"))),c.push(d),localStorage.setItem("queuedCard",JSON.stringify(c)),e.target.classList.add("queued"),void(e.target.textContent="REMOVE FROM QUEUED");{c=JSON.parse(localStorage.getItem("queuedCard"));const t=c.filter((e=>Number(e.id)!==Number(d.id)));c=[...t],localStorage.setItem("queuedCard",JSON.stringify(c)),e.target.classList.remove("queued"),e.target.textContent="ADD TO QUEUED"}}r.modalOpenClose.addEventListener("click",(function(e){var t,a;e.preventDefault();const n=e.target.parentNode.getAttribute("id");d=JSON.parse(localStorage.getItem("searchedMovies")).find((e=>e.id===Number(n))),i=d,r.modalCard.innerHTML=function(e){const{poster_path:t,title:a,genre_ids:n,popularity:r,vote_average:d,vote_count:i,overview:c,id:s}=e,l=a.toUpperCase();return` <div class="movie-card__item">\n      <img src="https://image.tmdb.org/t/p/w500${t}" class="movie-card__poster" />\n    </div>\n    <div class="movie-card__item">\n      <h1 class="movie-card__title"> ${l} </h1>\n      <ul class="movie-card__info">\n        <li class="movie-card__info--item">\n          <h2 class="movie-card__info--title"> Vote / Votes </h2>\n          <p class="movie-card__content--item"><span class="movie-card__vote"> ${d} </span> / ${i} </p>\n        </li>\n        <li class="movie-card__info--item">\n          <h2 class="movie-card__info--title"> Popularity </h2>\n          <p class="movie-card__content--item"> ${r} </p>\n        </li>\n        <li class="movie-card__info--item">\n          <h2 class="movie-card__info--title"> Movie Title </h2>\n          <p class="movie-card__content--item"> ${l} </p>\n        </li>\n        <li class="movie-card__info--item">\n          <h2 class="movie-card__info--title"> Genre </h2>\n          <p class="movie-card__content--item"> ${(0,o.getGenre)(n)} </p>\n      </ul>\n      <h2 class="movie-card__about">About</h2>\n      <p class="movie-card__about--content"> ${c} </p>\n      <div class="button-wrapper">\n      <button type="button" class="modal-button modal-button-watched">Add to watched</button>\n      <button type="button" class="modal-button modal-button-queue">Add to queue</button>\n      </div>\n    </div>`}(i);var i;const c={addQueue:document.querySelector(".modal-button-queue"),addWatched:document.querySelector(".modal-button-watched")};c.addQueue.addEventListener("click",g),c.addWatched.addEventListener("click",m),r.backdrop.classList.toggle("is-hidden"),r.closeBtn.addEventListener("click",s),r.backdrop.addEventListener("click",l),window.addEventListener("keydown",u),(null===(t=JSON.parse(localStorage.getItem("watchedCard")))||void 0===t?void 0:t.find((e=>e.id===Number(n))))&&(c.addWatched.textContent="REMOVE FROM WATCHED",c.addWatched.classList.add("watched"));(null===(a=JSON.parse(localStorage.getItem("queuedCard")))||void 0===a?void 0:a.find((e=>e.id===Number(n))))&&(c.addQueue.textContent="REMOVE FROM QUEUED",c.addQueue.classList.add("queued"))}));
//# sourceMappingURL=index.3b190286.js.map
