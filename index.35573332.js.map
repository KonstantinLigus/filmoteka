{"mappings":"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","sources":["src/index.js","src/js/onFirstLoadPage.js","src/js/createGallery.js","src/js/createNumeration.js","src/js/onSubmitClick.js","src/js/onPageNumberClick.js"],"sourcesContent":["import { GetMovieApi } from './js/fetchMovies';\nimport { onFirstLoadPage } from './js/onFirstLoadPage';\nimport { onSubmitClick } from './js/onSubmitClick';\nimport { onPageNumberClick } from './js/onPageNumberClick';\n// import * as loader from './js/loader';\nimport { onModalOpen } from './js/modalOpenClose';\nimport { getGenre } from './js/genresOfMovies';\n","import { GetMovieApi } from './fetchMovies';\nimport { renderMovieCard } from './createGallery';\nimport { renderNumerationOfHome } from './createNumeration';\n\nconst getMovieApi = new GetMovieApi();\n\nwindow.addEventListener('DOMContentLoaded', onFirstLoadPage);\n\nexport async function onFirstLoadPage(event) {\n  try {\n    const data = await getMovieApi.fetchPopularMovie();\n    renderMovieCard(data.results);\n    renderNumerationOfHome(data.total_pages, data.page);\n  } catch (error) {\n    console.error(error.message);\n  }\n}\n","import { gallery } from './references';\nimport { getGenre } from './genresOfMovies';\n\nexport function renderMovieCard(movies) {\n  gallery.innerHTML = createMovieCard(movies);\n}\n\nfunction createMovieCard(movies) {\n  return movies\n    .map(({ poster_path, title, genre_ids, release_date, id }) => {\n      const releaseDate = releaseDateChecker(release_date);\n      const titleUp = title.toUpperCase();\n      const poster = posterChecker(poster_path);\n      const genre = getGenre(genre_ids);\n\n      return `<li class=\"gallery__item\" id=${id}>\n        <img\n          class=\"gallery__img\"\n          src=\"${poster}\"\n          alt=${title}\n        />\n        <p class=\"gallery__name\">${titleUp}</p>\n        <p class=\"gallery__information\">${genre} | ${releaseDate}</p>\n    </li>`;\n    })\n    .join('');\n}\n\nfunction releaseDateChecker(release_date) {\n  if (release_date === '') {\n    return 'no info';\n  }\n  return release_date?.slice(0, 4);\n}\n\nfunction posterChecker(poster_path) {\n  if (poster_path === null) {\n    return (poster =\n      'https://via.placeholder.com/440x660.jpg?text=Image+Not+Found');\n  }\n  return `https://image.tmdb.org/t/p/w500${poster_path}`;\n}\n","import { paginationHome } from './references';\n// const element = document.querySelector('.pagination ul');\n// let totalPages = 25;\n// let page = 5;\n\n//виклик функції з передачею параметрів і додаванням внутрішнього елемента, який є тегом ul\n// element.innerHTML = createNumeration(totalPages, page);\n// export function createNumeration(totalPages, page) {\n//   let liTag = '';\n//   let active;\n//   let beforePage = page - 1;\n//   let afterPage = page + 1;\n//   if (page > 1) {\n//     //показує наступну кнопку, якщо значення сторінки більше 1\n//     liTag += `<li class=\"btn prev\" onclick=\"createNumeration(totalPages, ${\n//       page - 1\n//     })\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\n//     <path fill-rule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"/>\n//   </svg></li>`;\n//   }\n\n//   if (page > 2) {\n//     //якщо значення сторінки менше 2, додає 1 після попередньої кнопки\n//     liTag += `<li class=\"first numb\" onclick=\"createNumeration(totalPages, 1)\"><span>1</span></li>`;\n//     if (page > 3) {\n//       //якщо значення сторінки більше 3, додає (...) після першої li або сторінки\n//       liTag += `<li class=\"dots\"><span>...</span></li>`;\n//     }\n//   }\n\n//   // скільки сторінок або li відображається перед поточної li\n//   if (page == totalPages) {\n//     beforePage = beforePage - 2;\n//   } else if (page == totalPages - 1) {\n//     beforePage = beforePage - 1;\n//   }\n//   // скільки сторінок або li відображається після поточної li\n//   if (page == 1) {\n//     afterPage = afterPage + 2;\n//   } else if (page == 2) {\n//     afterPage = afterPage + 1;\n//   }\n\n//   for (var length = beforePage; length <= afterPage; length++) {\n//     if (length > totalPages) {\n//       //якщо довжина більша за загальну довжину сторінки, продовжує\n//       continue;\n//     }\n//     if (length == 0) {\n//       //якщо довжина дорівнює 0, додає +1 до значення довжини\n//       length = length + 1;\n//     }\n//     if (page == length) {\n//       //якщо сторінка дорівнює довжині, тоді призначає активний рядок в активній змінній\n//       active = 'active';\n//     } else {\n//       //інакше залишає порожнім активну змінну\n//       active = '';\n//     }\n//     liTag += `<li class=\"numb ${active}\" onclick=\"createNumeration(totalPages, ${length})\"><span>${length}</span></li>`;\n//   }\n\n//   if (page < totalPages - 1) {\n//     //якщо значення сторінки менше значення totalPage на -1, тоді відображає останню li або сторінку\n//     if (page < totalPages - 2) {\n//       //якщо значення сторінки менше значення totalPage на -2, додає (...) перед останньою li або сторінкою\n//       liTag += `<li class=\"dots\"><span>...</span></li>`;\n//     }\n//     liTag += `<li class=\"last numb\" onclick=\"createNumeration(totalPages, ${totalPages})\"><span>${totalPages}</span></li>`;\n//   }\n\n//   if (page < totalPages) {\n//     //показує наступну кнопку, якщо значення сторінки менше totalPage(20)\n//     liTag += `<li class=\"btn next\" onclick=\"createNumeration(totalPages, ${\n//       page + 1\n//     })\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-right\" viewBox=\"0 0 16 16\">\n//     <path fill-rule=\"evenodd\" d=\"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\"/>\n//   </svg></li>`;\n//   }\n//   // paginationHome.innerHTML = liTag; //додає тег li в тег ul\n//   return liTag; //повертає тег li\n// }\n\n// My realization\nexport function renderNumerationOfHome(totalPages, page) {\n  paginationHome.innerHTML = createNumeration(totalPages, page); //додає тег li в тег ul\n}\n\nfunction createNumeration(totalPages, page) {\n  let liTag = '';\n  let active;\n  let beforePage = page - 1;\n  let afterPage = page + 1;\n  if (page > 1) {\n    //показує наступну кнопку, якщо значення сторінки більше 1\n    liTag += `<li class=\"btn prev\" data-totalPages=\"${totalPages}\" data-page=\"${\n      page - 1\n    }\"      \n    ><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\n    <path fill-rule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"/>\n  </svg></li>`;\n  }\n\n  if (page > 2) {\n    //якщо значення сторінки менше 2, додає 1 після попередньої кнопки\n    liTag += `<li class=\"first numb\" data-totalPages=\"${totalPages}\" data-page=\"1\")\">1</li>`;\n    if (page > 3) {\n      //якщо значення сторінки більше 3, додає (...) після першої li або сторінки\n      liTag += `<li class=\"dots\">...</li>`;\n    }\n  }\n\n  // скільки сторінок або li відображається перед поточної li\n  if (page == totalPages) {\n    beforePage = beforePage - 2;\n  } else if (page == totalPages - 1) {\n    beforePage = beforePage - 1;\n  }\n  // скільки сторінок або li відображається після поточної li\n  if (page == 1) {\n    afterPage = afterPage + 2;\n  } else if (page == 2) {\n    afterPage = afterPage + 1;\n  }\n\n  for (var length = beforePage; length <= afterPage; length++) {\n    if (length > totalPages) {\n      //якщо довжина більша за загальну довжину сторінки, продовжує\n      continue;\n    }\n    if (length == 0) {\n      //якщо довжина дорівнює 0, додає +1 до значення довжини\n      length = length + 1;\n    }\n    if (page == length) {\n      //якщо сторінка дорівнює довжині, тоді призначає активний рядок в активній змінній\n      active = 'active';\n    } else {\n      //інакше залишає порожнім активну змінну\n      active = '';\n    }\n    liTag += `<li class=\"numb ${active}\" data-totalPages=\"${totalPages}\" data-page=\"${length}\">${length}</li>`;\n  }\n\n  if (page < totalPages - 1) {\n    //якщо значення сторінки менше значення totalPage на -1, тоді відображає останню li або сторінку\n    if (page < totalPages - 2) {\n      //якщо значення сторінки менше значення totalPage на -2, додає (...) перед останньою li або сторінкою\n      liTag += `<li class=\"dots\">...</li>`;\n    }\n    liTag += `<li class=\"last numb\" data-totalPages=\"${totalPages}\" data-page=\"${totalPages}\">${totalPages}</li>`;\n  }\n\n  if (page < totalPages) {\n    //показує наступну кнопку, якщо значення сторінки менше totalPage(20)\n    liTag += `<li class=\"btn next\" data-totalPages=\"${totalPages}\" data-page=\"${\n      page + 1\n    }\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-right\" viewBox=\"0 0 16 16\">\n    <path fill-rule=\"evenodd\" d=\"M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z\"/>\n  </svg></li>`;\n  }\n  // paginationHome.innerHTML = liTag; //додає тег li в тег ul\n  return liTag; //повертає тег li\n}\n","import { form } from './references';\nimport { noSuccess } from './references';\nimport { renderMovieCard } from './createGallery'\nimport { GetMovieApi } from './fetchMovies';\nimport { renderNumerationOfHome } from './createNumeration';\n\nconst getMovieApi = new GetMovieApi();\nexport let inputValue = '';\n\nform.addEventListener('submit', onSubmitClick);\n\n//Получение данных с инпута\nexport function onSubmitClick(e) {\n  e.preventDefault();\n  inputValue = e.target.elements.text.value.trim();\n  // Проверка инпута на пустую строку\n  if (inputValue === '') {\n    noSuccess.classList.add('visible');\n    return;\n  } else {\n    noSuccess.classList.remove('visible');\n  }\n  // Search movies\n  searchMoviesAndRender(inputValue);\n  clearInput();\n}\n\nasync function searchMoviesAndRender(inputValue) {\n  try {\n    getMovieApi.resetPage();\n    const data = await getMovieApi.fetchSearchedMovie(inputValue);\n    if (data.results.length === 0) {\n      noSuccess.classList.add('visible');\n    }\n    // Render gallery\n    renderMovieCard(data.results);\n    renderNumerationOfHome(data.total_pages, data.page);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction clearInput() {\n  form.reset();\n}\n","import { paginationHome } from './references';\nimport {\n  isFetchPopularMovie,\n  isFetchSearchedMovie,\n  GetMovieApi,\n} from './fetchMovies';\nimport { inputValue } from './onSubmitClick';\nimport { renderMovieCard } from './createGallery';\nimport { renderNumerationOfHome } from './createNumeration';\n\nconst getMovieApi = new GetMovieApi();\n\npaginationHome.addEventListener('click', onPageNumberClick);\n\nexport function onPageNumberClick(event) {\n  checkFetchPopularMovie(event);\n  checkFetchSearchedMovie(event);\n}\n\nfunction checkFetchPopularMovie(event) {\n  if (isFetchPopularMovie) {\n    // if (event.target.classList.contains('numb')) {\n    popularMoviesAndRender(event);\n    // }\n  }\n}\n\nfunction checkFetchSearchedMovie(event) {\n  if (isFetchSearchedMovie) {\n    // if (event.target.classList.contains('numb')) {\n    searchMoviesAndRender(event, inputValue);\n    // }\n  }\n}\n\nasync function searchMoviesAndRender(event, inputValue) {\n  try {\n    getMovieApi.setPage(event.target.dataset.page);\n    const data = await getMovieApi.fetchSearchedMovie(inputValue);\n    renderMovieCard(data.results);\n    renderNumerationOfHome(data.total_pages, data.page);\n  } catch (error) {\n    console.error(error);\n  }\n}\nasync function popularMoviesAndRender(event) {\n  try {\n    getMovieApi.setPage(event.target.dataset.page);\n    const data = await getMovieApi.fetchPopularMovie();\n    renderMovieCard(data.results);\n    renderNumerationOfHome(data.total_pages, data.page);\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["parcelRequire","$bpxeT","$go8W7","$ddd4e2c67603474d$export$605b145a07818080","movies","gallery","innerHTML","map","param","poster_path","title","genre_ids","release_date","id","releaseDate","slice","$ddd4e2c67603474d$var$releaseDateChecker","titleUp","toUpperCase","poster","$ddd4e2c67603474d$var$posterChecker","genre","$2Ch4P","getGenre","concat","join","$ddd4e2c67603474d$var$createMovieCard","$e151b790dec0dfdc$export$6e1dfc51509ef0be","totalPages","page","paginationHome","liTag","beforePage","afterPage","length","$e151b790dec0dfdc$var$createNumeration","$93173dca08978e6a$var$getMovieApi","$kitKc","GetMovieApi","$93173dca08978e6a$var$_onFirstLoadPage","$parcel$interopDefault","$2TvXO","mark","_callee","event","data","fetchPopularMovie","_ctx","sent","results","total_pages","console","error","t0","message","apply","this","arguments","window","addEventListener","$7eb3588a3c9e8e32$var$getMovieApi","$7eb3588a3c9e8e32$export$1de20867395b8910","$7eb3588a3c9e8e32$var$_searchMoviesAndRender","inputValue1","resetPage","fetchSearchedMovie","noSuccess","classList","add","form","e","preventDefault","target","elements","text","value","trim","remove","$7eb3588a3c9e8e32$var$searchMoviesAndRender","reset","$edc4d92fe2cfd487$var$getMovieApi","$edc4d92fe2cfd487$var$_searchMoviesAndRender","setPage","dataset","$edc4d92fe2cfd487$var$_popularMoviesAndRender","isFetchPopularMovie","$edc4d92fe2cfd487$var$popularMoviesAndRender","$edc4d92fe2cfd487$var$checkFetchPopularMovie","isFetchSearchedMovie","$edc4d92fe2cfd487$var$searchMoviesAndRender","$edc4d92fe2cfd487$var$checkFetchSearchedMovie"],"version":3,"file":"index.35573332.js.map"}