{"mappings":"2oBAAA,IAAAA,EAAAC,EAAA,S,iEAOA,MAAMC,EAAc,IAAI,EAAAC,EAAAC,aACjB,IAAIC,EAAa,GAExBL,EAAAM,KAAKC,iBAAiB,UAGf,SAAuBC,GAI5B,GAHAA,EAAEC,iBACFJ,EAAaG,EAAEE,OAAOC,SAASC,KAAKC,MAAMC,OAEvB,KAAfT,EAEF,YADAL,EAAAe,UAAUC,UAAUC,IAAI,WAGxBjB,EAAAe,UAAUC,UAAUE,OAAO,YAO/BC,eAAqCC,GACnC,IACElB,EAAYmB,YACZ,MAAMC,QAAapB,EAAYqB,mBAAmBH,GACtB,IAAxBE,EAAKE,QAAQC,QACfzB,EAAAe,UAAUC,UAAUC,IAAI,YAG1B,EAAAS,EAAAC,iBAAgBL,EAAKE,UACrB,EAAAI,EAAAC,wBAAuBP,EAAKQ,YAAaR,EAAKS,MAC9C,MAAOC,GACPC,QAAQD,MAAMA,KAfhBE,CAAsB7B,GAoBtBL,EAAAM,KAAK6B,c","sources":["src/js/onSubmitClick.js"],"sourcesContent":["import { form } from './references';\nimport { noSuccess } from './references';\nimport { paginationHome } from './references';\nimport { renderMovieCard } from './createGallery'\nimport { GetMovieApi } from './fetchMovies';\nimport { renderNumerationOfHome } from './createNumeration';\n\nconst getMovieApi = new GetMovieApi();\nexport let inputValue = '';\n\nform.addEventListener('submit', onSubmitClick);\n\n//Получение данных с инпута\nexport function onSubmitClick(e) {\n  e.preventDefault();\n  inputValue = e.target.elements.text.value.trim();\n  // Проверка инпута на пустую строку\n  if (inputValue === '') {\n    noSuccess.classList.add('visible');\n    return;\n  } else {\n    noSuccess.classList.remove('visible');\n  }\n  // Search movies\n  searchMoviesAndRender(inputValue);\n  clearInput();\n}\n\nasync function searchMoviesAndRender(inputValue) {\n  try {\n    getMovieApi.resetPage();\n    const data = await getMovieApi.fetchSearchedMovie(inputValue);\n    if (data.results.length === 0) {\n      noSuccess.classList.add('visible');\n    }\n    // Render gallery\n    renderMovieCard(data.results);\n    renderNumerationOfHome(data.total_pages, data.page);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction clearInput() {\n  form.reset();\n}\n"],"names":["$1sEOH","parcelRequire","$bfdabf2fe8c92a6d$var$getMovieApi","$1TPJ0","GetMovieApi","$bfdabf2fe8c92a6d$export$1de20867395b8910","form","addEventListener","e","preventDefault","target","elements","text","value","trim","noSuccess","classList","add","remove","async","inputValue1","resetPage","data","fetchSearchedMovie","results","length","$boIUg","renderMovieCard","$aUMDt","renderNumerationOfHome","total_pages","page","error","console","$bfdabf2fe8c92a6d$var$searchMoviesAndRender","reset"],"version":3,"file":"index.ae50b0c5.js.map"}