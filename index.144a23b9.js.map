{"mappings":"mkBAAA,aACAA,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QAER,SAA4BC,GACxB,GAAIC,MAAMC,QAAQF,GAAM,OAAOG,EAAuBJ,QAAQC,IAFlE,IAIgCI,EAJ5BD,GAI4BC,EAJeC,EAAA,WAK7BD,EAAIE,WAAaF,EAAM,CACjCL,QAASK,M,kCCXjB,aACAV,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAA2BC,EAAKO,IACjB,MAAPA,GAAeA,EAAMP,EAAIQ,UAAQD,EAAMP,EAAIQ,QAC/C,IAAI,IAAIC,EAAI,EAAGC,EAAO,IAAIT,MAAMM,GAAME,EAAIF,EAAKE,IAAIC,EAAKD,GAAKT,EAAIS,GACjE,OAAOC,M,kCCRX,aACAhB,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAA0BY,GACtB,GAAsB,oBAAXC,QAAmD,MAAzBD,EAAKC,OAAOC,WAA2C,MAAtBF,EAAK,cAAuB,OAAOV,MAAMa,KAAKH,O,kCCNxH,aACAjB,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,WACI,MAAM,IAAIgB,UAAU,6I,kCCNxB,aACArB,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QAER,SAAqCiB,EAAGC,GACpC,IAAKD,EAAG,OACR,GAAiB,iBAANA,EAAgB,OAAOE,EAAuBnB,QAAQiB,EAAGC,GACpE,IAAIE,EAAIzB,OAAO0B,UAAUC,SAASC,KAAKN,GAAGO,MAAM,GAAG,GACzC,WAANJ,GAAkBH,EAAEQ,cAAaL,EAAIH,EAAEQ,YAAYC,MACvD,GAAU,QAANN,GAAqB,QAANA,EAAa,OAAOlB,MAAMa,KAAKK,GAClD,GAAU,cAANA,GAAqB,2CAA2CO,KAAKP,GAAI,OAAOD,EAAuBnB,QAAQiB,EAAGC,IAP1H,IASgCb,EAT5Bc,GAS4Bd,EATeC,EAAA,WAU7BD,EAAIE,WAAaF,EAAM,CACjCL,QAASK,M,qKChBjB,IAAMuB,EAASC,KAAKC,MAAMC,aAAaC,QAAQ,WAExC,SAASC,EAASC,GACvB,GAAyB,IAArBA,EAAUzB,OACZ,MAAO,UAET,IAAM0B,EASR,SAAwBC,EAAQF,GAC9B,OAAOE,EACJC,QAAO,SAAAC,G,OAASJ,EAAUK,SAASD,EAAME,OACzCC,KAAI,SAAApC,G,OAAOA,EAAIqB,QAZEgB,CAAed,EAAQM,GAC3C,GAAIC,EAAY1B,OAAS,EAAG,CAC1B,IAAMkC,EAaV,SAA6BR,GAC3B,OAAQS,eAAiBT,EAAYE,QAAO,SAACQ,EAAIC,GAC/C,GAAIA,EAAM,EACR,OAAO,KAhBaC,CAAoBZ,GAE1C,OADAQ,EAAcK,KAAK,SACZL,EAAcM,KAAK,MAE5B,OAAOd,EAAYc,KAAK,U,SCX1BtD,OAAOC,eAAesD,EAAS,aAAc,CACzCnD,OAAO,IAEXmD,EAAQlD,QAKR,SAA4BC,GACxB,OAAOkD,EAAwBnD,QAAQC,IAAQmD,EAAsBpD,QAAQC,IAAQoD,EAAiCrD,QAAQC,IAAQqD,EAAwBtD,WALlK,IAAImD,EAAqBI,EAAuBjD,EAAA,UAC5C8C,EAAmBG,EAAuBjD,EAAA,UAC1CgD,EAAqBC,EAAuBjD,EAAA,UAC5C+C,EAA8BE,EAAuBjD,EAAA,UAIzD,SAASiD,EAAuBlD,GAC5B,OAAOA,GAAOA,EAAIE,WAAaF,EAAM,CACjCL,QAASK,GCdjB,IAAAmD,EAAAlD,EAAA,SCEA,IAAMmD,EAAO,CACXC,SAAUC,SAASC,cAAc,aACjCC,eAAgBF,SAASC,cAAc,sBACvCE,SAAUH,SAASC,cAAc,sBACjCG,UAAWJ,SAASC,cAAc,iBAEhCI,EAAQ,KACRC,EAAe,GACfC,EAAc,GA2ClB,SAASC,IACPV,EAAKC,SAASU,UAAUC,OAAO,aAC/BC,OAAOC,oBAAoB,UAAWC,GACtCf,EAAKM,UAAUU,UAAY,GAG7B,SAASC,EAAgBC,GACnBA,EAAEC,gBAAkBD,EAAEE,QACxBV,IAGJ,SAASK,EAAeG,GACP,WAAXA,EAAEG,MACJX,IAQJ,SAASY,EAAkBJ,GACzB,IAAKA,EAAEE,OAAOT,UAAUY,SAAS,WAQ/B,OAPInD,KAAKC,MAAMC,aAAaC,QAAQ,kBAClCiC,EAAepC,KAAKC,MAAMC,aAAaC,QAAQ,iBAEjDiC,EAAajB,KAAKgB,GAClBjC,aAAakD,QAAQ,cAAepD,KAAKqD,UAAUjB,IACnDU,EAAEE,OAAOT,UAAUe,IAAI,gBACvBR,EAAEE,OAAOO,YAAc,uBAKvB,IAAMC,GADNpB,EAAepC,KAAKC,MAAMC,aAAaC,QAAQ,iBACPK,QACtC,SAAAiD,G,OAAQC,OAAOD,EAAK9C,MAAQ+C,OAAOvB,EAAMxB,OAE3CyB,EAAgBuB,EAAAtC,EAAA,CAAGmC,GACnBtD,aAAakD,QAAQ,cAAepD,KAAKqD,UAAUjB,IACnDU,EAAEE,OAAOT,UAAUqB,OAAO,WAC1Bd,EAAEE,OAAOO,YAAc,iBAI3B,SAASM,EAAgBf,GACvB,IAAKA,EAAEE,OAAOT,UAAUY,SAAS,UAQ/B,OAPInD,KAAKC,MAAMC,aAAaC,QAAQ,iBAClCkC,EAAcrC,KAAKC,MAAMC,aAAaC,QAAQ,gBAEhDkC,EAAYlB,KAAKgB,GACjBjC,aAAakD,QAAQ,aAAcpD,KAAKqD,UAAUhB,IAClDS,EAAEE,OAAOT,UAAUe,IAAI,eACvBR,EAAEE,OAAOO,YAAc,sBAKvB,IAAMO,GADNzB,EAAcrC,KAAKC,MAAMC,aAAaC,QAAQ,gBACRK,QACpC,SAAAiD,G,OAAQC,OAAOD,EAAK9C,MAAQ+C,OAAOvB,EAAMxB,OAE3C0B,EAAesB,EAAAtC,EAAA,CAAGyC,GAClB5D,aAAakD,QAAQ,aAAcpD,KAAKqD,UAAUhB,IAClDS,EAAEE,OAAOT,UAAUqB,OAAO,UAC1Bd,EAAEE,OAAOO,YAAc,gBAxG3B3B,EAAKI,eAAe+B,iBAAiB,SAE9B,SAAqBjB,G,IAsBxBkB,EAQAC,EA7BFnB,EAAEoB,iBACF,IACMvD,EADOmC,EAAEE,OAAOmB,WACNC,aAAa,MAqDNC,EAnDvBlC,EAAQnC,KAAKC,MAAMC,aAAaC,QAAQ,mBAAmBmE,MACzD,SAAAC,G,OAASA,EAAM5D,KAAO+C,OAAO/C,MAmD/BiB,EAAKM,UAAUU,WDrEe4B,ECqEaH,EDpEnCI,EAAsFD,EAAtFC,YAAaC,EAAyEF,EAAzEE,MAAOC,EAAkEH,EAAlEG,UAAWC,EAAuDJ,EAAvDI,WAAYC,EAA2CL,EAA3CK,aAAcC,EAA6BN,EAA7BM,WAAYC,EAAiBP,EAAjBO,SAAiBP,EAAP7D,GACjFqE,EAAUN,EAAMO,cACf,mFAI8BC,OAHUT,EAAY,0HAOoBS,OAJ1CF,EAAQ,gPAI4DE,OAA1BL,EAAa,eAI5CK,OAJyDJ,EAAW,wLAQpEI,OAJAN,EAAW,yLAQXM,OAJAF,EAAQ,mLAOXE,QAHG,EAAAvD,EAAAwD,UAASR,GAAW,qHAGdO,OAATH,EAAS,kQA1BjD,IAAyBP,EACtBC,EAAaC,EAAOC,EAAWC,EAAYC,EAAcC,EAAYC,EACvEC,ECkER,IAAyBX,EA/CvB,IAAMe,EAAU,CACdC,SAAUvD,SAASC,cAAc,uBACjCuD,WAAYxD,SAASC,cAAc,0BAErCqD,EAAQC,SAAStB,iBAAiB,QAASF,GAC3CuB,EAAQE,WAAWvB,iBAAiB,QAASb,GAE7CtB,EAAKC,SAASU,UAAUC,OAAO,aAC/BZ,EAAKK,SAAS8B,iBAAiB,QAASzB,GACxCV,EAAKC,SAASkC,iBAAiB,QAASlB,GACxCJ,OAAOsB,iBAAiB,UAAWpB,IAGc,QAA/CqB,EAAAhE,KAAKC,MAAMC,aAAaC,QAAQ,uBAAe,IAA/C6D,OAAA,EAAAA,EAAiDM,MAC/C,SAAAiB,G,OAASA,EAAM5E,KAAO+C,OAAO/C,SAG/ByE,EAAQE,WAAW/B,YAAc,sBACjC6B,EAAQE,WAAW/C,UAAUe,IAAI,aAGa,QAA9CW,EAAAjE,KAAKC,MAAMC,aAAaC,QAAQ,sBAAc,IAA9C8D,OAAA,EAAAA,EAAgDK,MAC9C,SAAAkB,G,OAASA,EAAM7E,KAAO+C,OAAO/C,SAG/ByE,EAAQC,SAAS9B,YAAc,qBAC/B6B,EAAQC,SAAS9C,UAAUe,IAAI,c","sources":["node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","src/js/genresOfMovies.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","src/js/createModal.js","src/js/modalOpenClose.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","const genres = JSON.parse(localStorage.getItem('genres'));\n\nexport function getGenre(genresIds) {\n  if (genresIds.length === 0) {\n    return 'no info';\n  }\n  const genresNames = getGenresNames(genres, genresIds);\n  if (genresNames.length > 3) {\n    const filteredNames = filteredGenresNames(genresNames);\n    filteredNames.push('Other');\n    return filteredNames.join(', ');\n  }\n  return genresNames.join(', ');\n}\n\nfunction getGenresNames(genres, genresIds) {\n  return genres\n    .filter(genre => genresIds.includes(genre.id))\n    .map(obj => obj.name);\n}\n\nfunction filteredGenresNames(genresNames) {\n  return (filteredGenres = genresNames.filter((el, ind) => {\n    if (ind < 2) {\n      return true;\n    }\n  }));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import { getGenre } from './genresOfMovies';\n\nexport function createMovieCard(movie) {\n  const { poster_path, title, genre_ids, popularity, vote_average, vote_count, overview, id } = movie;\n  const titleUp = title.toUpperCase();\n  return ` <div class=\"movie-card__item\">\n      <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" class=\"movie-card__poster\" />\n    </div>\n    <div class=\"movie-card__item\">\n      <h1 class=\"movie-card__title\"> ${titleUp} </h1>\n      <ul class=\"movie-card__info\">\n        <li class=\"movie-card__info--item\">\n          <h2 class=\"movie-card__info--title\"> Vote / Votes </h2>\n          <p class=\"movie-card__content--item\"><span class=\"movie-card__vote\"> ${vote_average} </span> / ${vote_count} </p>\n        </li>\n        <li class=\"movie-card__info--item\">\n          <h2 class=\"movie-card__info--title\"> Popularity </h2>\n          <p class=\"movie-card__content--item\"> ${popularity} </p>\n        </li>\n        <li class=\"movie-card__info--item\">\n          <h2 class=\"movie-card__info--title\"> Movie Title </h2>\n          <p class=\"movie-card__content--item\"> ${titleUp} </p>\n        </li>\n        <li class=\"movie-card__info--item\">\n          <h2 class=\"movie-card__info--title\"> Genre </h2>\n          <p class=\"movie-card__content--item\"> ${getGenre(genre_ids)} </p>\n      </ul>\n      <h2 class=\"movie-card__about\">About</h2>\n      <p class=\"movie-card__about--content\"> ${overview} </p>\n      <div class=\"button-wrapper\">\n      <button type=\"button\" class=\"modal-button modal-button-watched\">Add to watched</button>\n      <button type=\"button\" class=\"modal-button modal-button-queue\">Add to queue</button>\n      </div>\n    </div>`;\n}\n","import { createMovieCard } from './createModal';\n\nconst refs = {\n  backdrop: document.querySelector('.backdrop'),\n  modalOpenClose: document.querySelector('.js-modalOpenClose'),\n  closeBtn: document.querySelector('[data-modal-close]'),\n  modalCard: document.querySelector('.movie-modal'),\n};\nlet movie = null;\nlet watchedMovie = [];\nlet queuedMovie = [];\n\nrefs.modalOpenClose.addEventListener('click', onModalOpen);\n\nexport function onModalOpen(e) {\n  e.preventDefault();\n  const card = e.target.parentNode;\n  const id = card.getAttribute('id');\n\n  movie = JSON.parse(localStorage.getItem('searchedMovies')).find(\n    movie => movie.id === Number(id)\n  );\n  renderMovieCard(movie);\n  const btnRefs = {\n    addQueue: document.querySelector('.modal-button-queue'),\n    addWatched: document.querySelector('.modal-button-watched'),\n  };\n  btnRefs.addQueue.addEventListener('click', onQueueBtnClick);\n  btnRefs.addWatched.addEventListener('click', onBtnWatchedClick);\n\n  refs.backdrop.classList.toggle('is-hidden');\n  refs.closeBtn.addEventListener('click', onModalClose);\n  refs.backdrop.addEventListener('click', onBackdropClose);\n  window.addEventListener('keydown', closeOnKeydown);\n\n  if (\n    JSON.parse(localStorage.getItem('watchedCard'))?.find(\n      movie => movie.id === Number(id)\n    )\n  ) {\n    btnRefs.addWatched.textContent = 'REMOVE FROM WATCHED';\n    btnRefs.addWatched.classList.add('watched');\n  }\n  if (\n    JSON.parse(localStorage.getItem('queuedCard'))?.find(\n      movie => movie.id === Number(id)\n    )\n  ) {\n    btnRefs.addQueue.textContent = 'REMOVE FROM QUEUED';\n    btnRefs.addQueue.classList.add('queued');\n  }\n}\n\nfunction onModalClose() {\n  refs.backdrop.classList.toggle('is-hidden');\n  window.removeEventListener('keydown', closeOnKeydown);\n  refs.modalCard.innerHTML = '';\n}\n\nfunction onBackdropClose(e) {\n  if (e.currentTarget === e.target) {\n    onModalClose();\n  }\n}\nfunction closeOnKeydown(e) {\n  if (e.code === 'Escape') {\n    onModalClose();\n  }\n}\n\nfunction renderMovieCard(movie) {\n  refs.modalCard.innerHTML = createMovieCard(movie);\n}\n\nfunction onBtnWatchedClick(e) {\n  if (!e.target.classList.contains('watched')) {\n    if (JSON.parse(localStorage.getItem('watchedCard'))) {\n      watchedMovie = JSON.parse(localStorage.getItem('watchedCard'));\n    }\n    watchedMovie.push(movie);\n    localStorage.setItem('watchedCard', JSON.stringify(watchedMovie));\n    e.target.classList.add('watched');\n    e.target.textContent = 'REMOVE FROM WATCHED';\n    return;\n  } else {\n    /* (e.target.classList.contains('watched')) */\n    watchedMovie = JSON.parse(localStorage.getItem('watchedCard'));\n    const filterWatchedMovie = watchedMovie.filter(\n      item => Number(item.id) !== Number(movie.id)\n    );\n    watchedMovie = [...filterWatchedMovie];\n    localStorage.setItem('watchedCard', JSON.stringify(watchedMovie));\n    e.target.classList.remove('watched');\n    e.target.textContent = 'ADD TO WATCHED';\n  }\n}\n\nfunction onQueueBtnClick(e) {\n  if (!e.target.classList.contains('queued')) {\n    if (JSON.parse(localStorage.getItem('queuedCard'))) {\n      queuedMovie = JSON.parse(localStorage.getItem('queuedCard'));\n    }\n    queuedMovie.push(movie);\n    localStorage.setItem('queuedCard', JSON.stringify(queuedMovie));\n    e.target.classList.add('queued');\n    e.target.textContent = 'REMOVE FROM QUEUED';\n    return;\n  } else {\n    /* (e.target.classList.contains('watched')) */\n    queuedMovie = JSON.parse(localStorage.getItem('queuedCard'));\n    const filterQueuedMovie = queuedMovie.filter(\n      item => Number(item.id) !== Number(movie.id)\n    );\n    queuedMovie = [...filterQueuedMovie];\n    localStorage.setItem('queuedCard', JSON.stringify(queuedMovie));\n    e.target.classList.remove('queued');\n    e.target.textContent = 'ADD TO QUEUED';\n  }\n}\n"],"names":["Object","defineProperty","module","exports","value","default","arr","Array","isArray","$f215c72f040a88cf$var$_arrayLikeToArray","obj","parcelRequire","__esModule","len","length","i","arr2","iter","Symbol","iterator","from","TypeError","o","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","test","$1e7c6082d72ce948$var$genres","JSON","parse","localStorage","getItem","$1e7c6082d72ce948$export$11ff5302ebb1cd30","genresIds","genresNames","genres1","filter","genre","includes","id","map","$1e7c6082d72ce948$var$getGenresNames","filteredNames","filteredGenres","el","ind","$1e7c6082d72ce948$var$filteredGenresNames","push","join","$6195f07b5409ba15$exports","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","$2Ch4P","$1c4fbce399daae61$var$refs","backdrop","document","querySelector","modalOpenClose","closeBtn","modalCard","$1c4fbce399daae61$var$movie","$1c4fbce399daae61$var$watchedMovie","$1c4fbce399daae61$var$queuedMovie","$1c4fbce399daae61$var$onModalClose","classList","toggle","window","removeEventListener","$1c4fbce399daae61$var$closeOnKeydown","innerHTML","$1c4fbce399daae61$var$onBackdropClose","e","currentTarget","target","code","$1c4fbce399daae61$var$onBtnWatchedClick","contains","setItem","stringify","add","textContent","filterWatchedMovie","item","Number","$parcel$interopDefault","remove","$1c4fbce399daae61$var$onQueueBtnClick","filterQueuedMovie","addEventListener","ref","ref1","preventDefault","parentNode","getAttribute","movie4","find","movie1","movie","poster_path","title","genre_ids","popularity","vote_average","vote_count","overview","titleUp","toUpperCase","concat","getGenre","btnRefs","addQueue","addWatched","movie2","movie3"],"version":3,"file":"index.144a23b9.js.map"}